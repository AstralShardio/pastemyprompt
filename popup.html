<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PasteMyPrompt</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app">
    <!-- Sidebar -->
    <div id="sidebar">
      <div class="sidebar-header">
        <h2>PasteMyPrompt</h2>
      </div>
      <div class="sidebar-content">
        <div class="projects-header">
          <h3>Projects</h3>
        </div>
        <div id="projects-list"></div>
        <button id="new-project-btn" class="btn-new-project">
          <span>+</span> New Project
        </button>
      </div>
      <div id="pro-badge" class="pro-section hidden">
        <div class="pro-badge">PRO</div>
        <button id="unlock-pro-btn" class="btn btn-pro btn-small">Unlock Pro ($5)</button>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Top Bar -->
      <div class="top-bar">
        <input 
          type="text" 
          id="search-input" 
          placeholder="Search prompts..." 
          class="search-input"
        />
        <button id="new-prompt-btn" class="btn btn-primary">
          New Prompt
        </button>
        <button id="quick-add-clipboard-btn" class="btn btn-secondary" title="Quick add from clipboard">
          <svg class="icon-small" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
          </svg>
        </button>
        <button id="dark-mode-toggle" class="icon-btn" title="Toggle dark mode">
          <svg id="moon-icon" class="icon hidden" viewBox="0 0 20 20" fill="currentColor">
            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
          </svg>
          <svg id="sun-icon" class="icon" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path>
          </svg>
        </button>
      </div>

      <!-- Filter Bar -->
      <div class="filter-bar">
        <div class="filter-bar-left">
          <button id="toggle-favorites-btn" class="filter-btn" title="Toggle favorites filter">
            <svg class="icon-small" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path>
            </svg>
          </button>
          <div id="tag-filters" class="tag-filters"></div>
        </div>
        <button id="show-archived-btn" class="filter-btn" title="Show archived prompts">
          <svg class="icon-small" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path>
          </svg>
        </button>
      </div>

      <!-- Prompts Grid -->
      <div id="prompts-container" class="prompts-container">
        <div id="prompts-grid" class="prompts-grid"></div>
        <div id="empty-state" class="empty-state hidden">
          <div class="empty-icon">üìù</div>
          <p class="empty-title">No prompts found</p>
          <p class="empty-text">Create your first prompt to get started!</p>
        </div>
      </div>

      <!-- Export/Import (Pro only) -->
      <div id="pro-actions" class="pro-actions hidden">
        <button id="export-btn" class="btn btn-success">Export JSON</button>
        <button id="import-btn" class="btn btn-purple">Import JSON</button>
      </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast hidden">
      <span id="toast-message"></span>
    </div>
  </div>

  <!-- Prompt Modal -->
  <div id="prompt-modal" class="modal-overlay hidden">
    <div class="modal">
      <div class="modal-header">
        <h3 id="modal-title">New Prompt</h3>
      </div>
      <div class="modal-body">
        <form id="prompt-form">
          <div class="form-group">
            <label>Title</label>
            <input type="text" id="modal-title-input" required class="form-input" />
          </div>
          <div class="form-group">
            <label>Project</label>
            <select id="modal-project-select" required class="form-input"></select>
          </div>
          <div class="form-group">
            <label>Tags (comma-separated)</label>
            <input 
              type="text" 
              id="modal-tags-input" 
              placeholder="SEO, Code, Blog..."
              class="form-input"
            />
            <p class="form-hint">Predefined: SEO, X, Code, Funny, Blog, Dev</p>
          </div>
          <div class="form-group">
            <label>Prompt</label>
            <textarea 
              id="modal-prompt-textarea" 
              required
              rows="6"
              class="form-input form-textarea"
            ></textarea>
          </div>
          <div class="form-actions">
            <button type="button" id="modal-cancel-btn" class="btn btn-secondary">Cancel</button>
            <button type="submit" class="btn btn-primary">Save</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Project Name Modal -->
  <div id="project-modal" class="modal-overlay hidden">
    <div class="modal modal-small">
      <div class="modal-header">
        <h3 id="project-modal-title">New Project</h3>
      </div>
      <div class="modal-body">
        <form id="project-form">
          <div class="form-group">
            <label>Project Name</label>
            <input type="text" id="project-name-input" required class="form-input" />
          </div>
          <div class="form-actions">
            <button type="button" id="project-modal-cancel-btn" class="btn btn-secondary">Cancel</button>
            <button type="submit" class="btn btn-primary">Create</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Project Context Menu -->
  <div id="project-context-menu" class="context-menu hidden">
    <button id="context-rename" class="context-menu-item">Rename</button>
    <button id="context-delete" class="context-menu-item context-menu-item-danger">Delete</button>
  </div>

  <!-- Prompt Context Menu -->
  <div id="prompt-context-menu" class="context-menu hidden">
    <button id="prompt-context-copy" class="context-menu-item">Copy</button>
    <button id="prompt-context-edit" class="context-menu-item">Edit</button>
    <button id="prompt-context-duplicate" class="context-menu-item">Duplicate</button>
    <button id="prompt-context-favorite" class="context-menu-item">Toggle Favorite</button>
    <button id="prompt-context-delete" class="context-menu-item context-menu-item-danger">Archive</button>
  </div>

  <!-- Variable Fill Modal -->
  <div id="variable-modal" class="modal-overlay hidden">
    <div class="modal modal-small">
      <div class="modal-header">
        <h3>Fill Variables</h3>
      </div>
      <div class="modal-body">
        <div id="variable-inputs"></div>
        <div class="form-actions">
          <button type="button" id="variable-cancel-btn" class="btn btn-secondary">Cancel</button>
          <button type="button" id="variable-copy-btn" class="btn btn-primary">Copy</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Command Palette -->
  <div id="command-palette" class="command-palette hidden">
    <input type="text" id="command-input" placeholder="Type to search or use commands..." />
    <div id="command-results" class="command-results"></div>
  </div>

  <!-- Onboarding Tour Overlay -->
  <div id="onboarding-tour" class="onboarding-tour hidden">
    <div class="tour-overlay"></div>
    <div class="tour-tooltip" id="tour-tooltip">
      <div class="tour-tooltip-content">
        <h3 id="tour-title">Welcome to PasteMyPrompt!</h3>
        <p id="tour-description">Let's take a quick tour of the key features.</p>
        <div class="tour-actions">
          <button id="tour-skip" class="btn btn-secondary btn-small">Skip Tour</button>
          <button id="tour-next" class="btn btn-primary btn-small">Next</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Archived Prompts Modal -->
  <div id="archived-modal" class="modal-overlay hidden">
    <div class="modal">
      <div class="modal-header">
        <h3>Archived Prompts</h3>
        <button class="modal-close" onclick="closeArchivedModal()">√ó</button>
      </div>
      <div class="modal-body">
        <div id="archived-prompts-list" class="archived-prompts-list"></div>
      </div>
    </div>
  </div>

  <!-- Keyboard Shortcuts Help Modal -->
  <div id="shortcuts-modal" class="modal-overlay hidden">
    <div class="modal modal-small">
      <div class="modal-header">
        <h3>Keyboard Shortcuts</h3>
        <button class="modal-close" onclick="closeShortcutsModal()">√ó</button>
      </div>
      <div class="modal-body">
        <div class="shortcuts-list">
          <div class="shortcut-item">
            <kbd>Ctrl/Cmd + K</kbd>
            <span>Open command palette</span>
          </div>
          <div class="shortcut-item">
            <kbd>?</kbd>
            <span>Show this help</span>
          </div>
          <div class="shortcut-item">
            <kbd>1-9</kbd>
            <span>Copy recent prompt (1 = most recent)</span>
          </div>
          <div class="shortcut-item">
            <kbd>‚Üë ‚Üì</kbd>
            <span>Navigate search results</span>
          </div>
          <div class="shortcut-item">
            <kbd>Enter</kbd>
            <span>Copy selected prompt</span>
          </div>
          <div class="shortcut-item">
            <kbd>Esc</kbd>
            <span>Close modals</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
